# 文件批量重命名工具

一个基于Python和tkinter的图形化文件批量重命名工具，提供三个独立的文件处理功能。

## 功能特性

### 1. 复制文件夹并清理
- 将源文件夹的内容直接复制到目标文件夹中
- 自动删除复制后文件夹中所有子文件夹内的文件
- 保留文件夹结构，只删除文件内容

### 2. 批量重命名文件
- 按照指定格式批量重命名文件：`品牌_文件夹名称_yyyy年MM月dd日_四位编号`
- 每个文件夹内的文件按修改时间排序，最早修改的文件为0001
- 品牌固定为"品牌"，支持自定义日期
- 递归处理所有子文件夹

### 3. 清理文件名
- 删除文件名中的指定字符串（默认为"副图_1"）
- 支持自定义要删除的字符串
- 递归处理所有子文件夹中的文件

## 系统要求

- Python 3.6 或更高版本
- macOS、Windows 或 Linux 操作系统
- 无需安装额外的第三方依赖包

## 安装和运行

1. 确保已安装Python 3.6+
2. 下载或克隆本项目
3. 在项目目录中运行：

```bash
python main.py
```

## 使用说明

### 启动应用
运行 `python main.py` 启动图形化界面。

### 复制文件夹并清理
1. 切换到"复制文件夹并清理"标签页
2. 选择源文件夹（要复制的文件夹）
3. 选择目标文件夹（复制到的位置）
4. 点击"开始复制并清理"按钮
5. 程序会将源文件夹的内容复制到目标文件夹中，然后删除所有子文件夹中的文件

### 批量重命名文件
1. 切换到"批量重命名"标签页
2. 选择要处理的目标文件夹
3. 确认或修改日期（默认为当前日期）
4. 点击"开始批量重命名"按钮
5. 文件将按照格式重命名：`品牌_文件夹名称_2024年01月15日_0001.jpg`

### 清理文件名
1. 切换到"清理文件名"标签页
2. 选择要处理的目标文件夹
3. 确认或修改要删除的字符串（默认为"副图_1"）
4. 点击"开始清理文件名"按钮
5. 所有包含指定字符串的文件名都会被清理

## 注意事项

- **备份重要文件**：在进行任何重命名操作前，建议备份重要文件
- **路径权限**：确保程序对目标文件夹有读写权限
- **文件冲突**：如果新文件名已存在，程序会跳过该文件并在控制台输出警告
- **线程安全**：所有文件操作都在后台线程中执行，不会冻结界面

## 文件格式支持

- 支持所有文件格式的重命名
- 自动保留文件扩展名
- 处理中文文件名和路径

## 错误处理

- 自动跳过无法访问的文件
- 详细的错误信息提示
- 操作进度状态显示

## 界面特性

- 现代化的标签页界面设计
- 实时状态反馈
- 文件夹浏览对话框
- 操作确认对话框

## 技术特性

- 使用Python标准库，无外部依赖
- 多线程处理，界面响应流畅
- 跨平台兼容性
- 完整的错误处理和用户反馈

## 📦 跨平台打包

本项目提供完整的跨平台打包解决方案，支持Windows和macOS平台。

### 🚀 GitHub Actions自动构建（推荐）

最简单的方式是使用GitHub Actions自动构建和发布：

```bash
# 推送代码触发构建
git push origin main

# 创建版本标签自动发布
git tag v1.0.0
git push origin v1.0.0
```

**支持平台：**
- ✅ Windows (EXE安装包)
- ✅ macOS (DMG安装包)  
- 🔄 自动发布到GitHub Releases
- 📦 构建产物保存为Artifacts

查看 [BUILD_GITHUB_ACTIONS.md](BUILD_GITHUB_ACTIONS.md) 了解完整的自动构建流程。

### 🔧 本地构建

#### Windows本地打包
```bash
# 方法1：一键打包（推荐）
build_windows.bat

# 方法2：手动执行
python build_windows.py
```

#### macOS本地打包
```bash
# 安装依赖
pip install pyinstaller pillow
brew install create-dmg

# 构建应用
python build_macos.py

# 创建DMG安装包
python create_dmg.py
```

### 📚 详细文档
- [GitHub Actions构建](BUILD_GITHUB_ACTIONS.md) - 自动化跨平台构建
- [Windows打包](BUILD_WINDOWS.md) - Windows本地打包流程

## 版本历史

- v1.0.0 - 初始版本，包含三个核心功能

## 许可证

本项目采用MIT许可证。

## 贡献

欢迎提交bug报告、功能请求或代码贡献。 